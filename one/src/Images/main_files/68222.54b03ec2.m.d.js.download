"use strict";(self.webpackChunkhousing_demand=self.webpackChunkhousing_demand||[]).push([[68222],{46560:(e,t,n)=>{n.d(t,{A:()=>v});var s=n(63502),o=n(75641),r=n(28667),i=n(47296);const c={name:"1phd9a0",styles:"object-fit:cover;"},a={name:"oe6cro",styles:"opacity:0;width:0;height:0;"},d={name:"1yvi9zz",styles:"filter:blur(4px);"},l={name:"b2rdmp",styles:"transition:filter 0.3s;object-fit:cover;"},u=(0,s.css)("background-image:url(","//c.housingcdn.com/demand/s/client/common/assets/loader.fd27d2ce.svg",");background-color:#e3e3e3;background-size:100% 100%;"),g={name:"q7lffx",styles:"opacity:0;"};var f=n(6039),m=n(96628),h=n(89282);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_extends.apply(null,arguments)}const placeholderMap=function(){return"default"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default")?function(){return(0,s.css)("display:inline-block;",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"":"background: #e3e3e3;","")}(!(arguments.length>1?arguments[1]:void 0)):u},p={1:"smallest",38:"thumb",45:"_p",80:"_preview",90:"_s",120:"small",300:"medium",540:"large",870:"fs"},b=Object.keys(p);function getImageVersion(e){if(!e)return"medium";const{boundingClientRect:{width:t,height:n}}=e,s=function closest(e,t){let n,s=0,o=t.length-1;for(;o-s>1;)n=Math.floor((s+o)/2),t[n]<e?s=n:o=n;return t[o]}(Math.max(t,n),b);return p[s]}const isLoaded=e=>!!(e&&e.current&&e.current.complete),timer=(e,t)=>{const n=setTimeout(e,t);return()=>clearTimeout(n)},y=(0,o.forwardRef)(((e,t)=>{let{src:n,videoUrl:r,isBot:u,lazy:p=!0,loading:b=(p?"lazy":"eager"),fetchpriority:y=(p?"low":"auto"),style:v,version:x,onload:j=()=>{},onClick:k,index:w,placeHolderVersion:L="default",preload:_=!1,unsafeAccept:A,supportWebp:E=!0,imgArr:V,...C}=e;const O=n&&n.indexOf("base64")>=0,T="transition"===L,z=!p&&!T||u||O;n=(0,h.Pk)(n);const[{onScreen:I,detectedVersion:M,secLoaded:R,loaded:S,startTransitioning:$},B]=(0,o.useState)({onScreen:!!z,secLoaded:!(!u&&!O),loaded:!1,detectedVersion:"",startTransitioning:!T}),updateUiState=e=>{B((t=>{let n=!1;const s={...t};return Object.entries(e).forEach((e=>{let[o,r]=e;t[o]!==r&&(s[o]=r,n=!0)})),n?s:t}))},[N]=(0,i.A)({rootMargin:"100px",onChange:e=>{I||updateUiState({onScreen:e.isIntersecting,detectedVersion:x?"":getImageVersion()})}}),P=(0,o.useRef)(),q=(0,o.useMemo)((()=>x||M||(z?"medium":"")),[x,M,z]);(0,o.useEffect)((()=>{if(!p&&(updateUiState({loaded:isLoaded(N),secLoaded:isLoaded(P),detectedVersion:x?"":getImageVersion()}),T))return timer((()=>updateUiState({startTransitioning:!0,secLoaded:isLoaded(P)})),50)}),[]),(0,o.useEffect)((()=>{j&&R&&j(R)}),[R]),(0,o.useEffect)((()=>{if(I&&p&&!z)return timer((()=>B((e=>e.secLoaded?e:{...e,startTransitioning:!0,secLoaded:isLoaded(P)}))),50)}),[I]),E&&n&&!n.includes("/assets")&&!n.includes(".webp")&&n.includes("housingcdn.com")&&(u&&A&&A.includes("webp"),1)&&(n=n.replace(".jpg",".jpg.webp"),n=n.replace(".jpeg",".jpeg.webp"));let F,H=O&&n;if(n&&!O&&(H=n.replace("version",q),F=n.replace("version","_p")),(0,f.A)({image:_&&!p&&H}),!n||!I&&p)return(0,s.jsx)("div",{className:"image image-placeholder",css:(0,s.css)([placeholderMap(L),v],""),ref:N,onClick:k},(0,s.jsx)("img",{alt:C.alt,style:{display:"none"}}));const U={className:"img",onClick:k,...C},W=!u&&!O,D=I&&(T&&!R?a:[W&&!T&&!R&&!z&&g,R&&W&&!z&&(G=!T,(0,s.css)("object-fit:cover;animation:",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.keyframes`
  0% {
    ${e?"opacity: 0;":d}
  }
  100 % {
    ${e?"opacity: 1":"filter: blur(0px)"};
  }
`}(G)," 300ms linear;")),$&&!R&&placeholderMap(L,z||!p),c,v]);var G;return(0,s.jsx)(o.Fragment,null,T&&!z&&!R&&(0,s.jsx)("img",_extends({ref:N,css:(0,s.css)([$&&!S&&placeholderMap(L,z),S&&d,$&&l,v],""),fetchpriority:y,loading:b,style:V?{height:`${V[w].height}px`}:{}},U,{onLoad:()=>{let e=document.createElement("img");e.src=H,e.onload=function(){const e=this.height,t=this.width;t&&e&&(S||updateUiState({loaded:!0}),j(w,t,e))},e.onerror=function(){},S||updateUiState({loaded:!0})},onError:e=>{S||updateUiState({loaded:!0}),j(w,1,1)},src:F})),I&&(0,s.jsx)("img",_extends({css:D},U,{ref:(0,m.A)(P,t),decoding:"async",fetchpriority:y,style:V?{height:`${V[w].height}px`}:{},onLoad:e=>{let t=document.createElement("img");t.src=H,t.onload=function(){const e=this.height,t=this.width;t&&e&&(R||updateUiState({secLoaded:!0}),j(w,t,e))},t.onerror=function(){},R||updateUiState({secLoaded:!0})},onError:()=>{R||updateUiState({secLoaded:!0}),j(w,1,1)},src:H})))})),v=(0,r.A)({props:e=>{let{shell:{useragent:{isBot:t},headers:{unsafeAccept:n}={}}}=e;return{isBot:t,unsafeAccept:n}},actions:{},options:{forwardRef:!0}})(y)}}]);