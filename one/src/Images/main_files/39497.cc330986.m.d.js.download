"use strict";(self.webpackChunkhousing_demand=self.webpackChunkhousing_demand||[]).push([[39497],{3405:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(55973),l=r(75641),n=r.n(l),i=r(28667),c=r(41780),s=r(78580);r(1814);const o={CHANGE_CITY_CLICK:(e,t)=>{let{label:r}=t;return{category:"city change",action:"click",label:r}}};var d=r(47651);const y="_c81fwx _csbfng _g3exct _fr1ti3 _gz1l7b _17ee1fcq _1m2a1jbn _kbvg1sub _tw991o8l _157zni7l _m0mi19bv T_cityNameStyle",p="_c81fwx _csbfng _mkh2mm _n31l7b _7ltvct _g3exct _fr1ti3 T_rightContStyle",u="_1gkh15bn _44yo1jbn _1akk19bv _fq0ldlk8 _x4yth2mm _tb79t94y _lxwwni7l _154q9ke2 T_backButtonStyleNew";r(43244);const _=(0,s.A)((()=>Promise.all([r.e(13940),r.e(59163),r.e(71414)]).then(r.bind(r,32254))),{silent:!1,type:"local",container:"housing.demand",module:"common/components/CitySelect/rewrite"}),m=(0,i.A)({props:e=>{let{filters:{selectedCity:t,category:r,service:a}={}}=e;return{selectedCity:t,category:r,service:a}}})((e=>{let{selectedCity:t,category:r,service:a,citySelectOpen:i=!1,setCitySelectOpen:s=()=>{},backClick:m=()=>{},screenType:h,openSearchScreen:g,removeLocality:f}=e;const{name:S}=t||{},E=(0,d.A)(o),C="search"===h||"locality"===h;return C?n().createElement("div",null,i&&n().createElement(_,{onClose:()=>s(!1),selectedCity:t,selectedProduct:(0,c.A)(a,r),onSelect:s,screenType:h,openSearchScreen:g,removeLocality:f}),n().createElement("div",{className:"_26rrk5 _9s1txw _fc1yb4 _0h1h6o _l81bkc T_containerStyle"},n().createElement("div",{className:"T_cityTextStyle _11jpbfng _4b1hexct _17iadlk8 _5vy2bfng _1i76dlk8 _au8v1fwx _fr1ti3 _7ltvct _g3exct _c81fwx"},n().createElement("span",{className:u,onClick:m,"data-q":"back-btn"}),"Searching in ",n().createElement("span",null,S)),n().createElement("div",{className:p,onClick:()=>{s(!0),C&&E("CHANGE_CITY_CLICK",{label:h})}},"Change city",n().createElement("span",{className:y})))):n().createElement(l.Fragment,null,i&&n().createElement(_,{onClose:()=>s(!1),selectedCity:t,selectedProduct:(0,c.A)(a,r),onSelect:s}),n().createElement("span",{className:"_9s1ule _e2idpf _1gkh15bn _44yo1jbn _1akk19bv _tb791tcg _1xce1tcg _x4yth2mm T_backButtonStyle",onClick:m,"data-q":"back-btn"}),n().createElement("div",{className:"_26rrk5 _l8m6xf _c8f6fq _csbfng _g3gktf _7l1d6m T_arrowLeft"},"Filters"),n().createElement("div",{className:"_9s1txw _fc1yb4 _2drrk5 _l86es9 _wqzo7u _tkidpf T_headerStyle"},n().createElement("div",{className:"_c81fwx _g3exct _7ltvct _fr1ti3 _au8v1fwx _1i76dlk8 _5vy2bfng _17iadlk8 _4b1hexct _11jpbfng T_cityTextStyle"},"Searching in ",n().createElement("b",null,S)),n().createElement("div",{className:p,onClick:()=>s(!0)},"Change city",n().createElement("span",{className:y}))),n().createElement("div",{className:"_vy1bov _e2t94y _mkh2mm _fq1tcg _givvza _2d1xm7 T_lineStyle"}))}));(0,a.A)(u)},11181:(e,t,r)=>{r.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(61103);function __WEBPACK_DEFAULT_EXPORT__(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.EM,r=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,n={},i=(0,a.Zh)({service:r,category:l,isRenderOpenFilter:null,version:"phoenix",isMobile:!0,isLandmarkSearchActive:arguments.length>4&&void 0!==arguments[4]&&arguments[4]});return"paying_guest"===l&&(i=i.splice(0,4)),t.map((t=>{e[t]&&i.filter((e=>{let{param:r,config:{filterName:a=[]}={}}=e;return r===t||a.filter((e=>e===t)).length>0})).length>0&&(Array.isArray(e[t])?(n[t]=[],e[t].map((e=>{(0,a.bS)(r,l,t,e)&&n[t].push(e)})),0===n[t].length&&delete n[t]):"string"==typeof e[t]?(0,a.bS)(r,l,t,e[t])&&(n[t]=e[t]):n[t]=e[t])})),n}},22892:(e,t,r)=>{r.r(t)},39348:(e,t,r)=>{r.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(75641),l=r(93794);function __WEBPACK_DEFAULT_EXPORT__(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"filters",{backClick:t=()=>{},citySelectOpen:r,propertyTypePage:n,addLocalityScreen:i,setAddLocalityScreen:c,entities:s,isSrp:o=!1,filterPopup:d,isPopularLandmarkSearch:y=!1,landmarkSearchViaMap:p=!1,initialPrevReduxState:u,setBaseFilterParams:_,service:m,category:h,setFilterScreenCallback:g=()=>{}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const f={screen:e,screenCount:1};(0,a.useEffect)((()=>{"search"===e&&o&&c(!0)}),[]);const[{screen:S,screenCount:E},C]=(0,a.useReducer)(((e,t)=>{let{type:r,payload:a}=t;return"SET_FILTER_WRAPPER"===r?{...e,...a}:e}),f),dispatch=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,a.startTransition)((()=>{C(...t)}))},b=(0,a.useCallback)((()=>{if(!(r||n||i&&(!o||"search"!==e)||d)){const e="filters"===S?"search":"filters";onScreenBack(t)&&(window.history.pushState({currentScreen:e},e),window.history.go(1))}}),[S,r,n,i,d]);(0,a.useEffect)((()=>(window.addEventListener("popstate",b),()=>{window.removeEventListener("popstate",b)})),[b]);const setScreenData=e=>{let{screenCount:t,screen:r}=e;const a={};r&&(a.screen=r),t&&(a.screenCount=t),dispatch({type:"SET_FILTER_WRAPPER",payload:a})},onScreenBack=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const r="filters"===S?"search":"filters",a=E-1;if(s&&!s.length&&t(),"filters"===S&&2===E&&(0,l.A)(s)&&c(!0),p){if(!(a>=0))return o||null!==u?(_({entities:u.entities,filters:u.filters,service:m,category:h},!0),void g(!1)):void window.history.go(-1);setScreenData({screen:"map",screenCount:null})}if(!(y||a<=0&&r!==e))return dispatch({type:"SET_FILTER_WRAPPER",payload:{screenCount:a,screen:r}}),!0;t()};return{screen:S,screenCount:E,setScreenData,onScreenBack,openSearchScreen:e=>{dispatch({type:"SET_FILTER_WRAPPER",payload:{screenCount:E<2?E+1:E,screen:e}})},stopFilterUpdate:!1}}},39497:(e,t,r)=>{r.d(t,{default:()=>W});var a=r(55973),l=r(75641),n=r.n(l),i=r(28667),c=r(59085),s=r(47514),o=r(96579),d=r(11181),y=r(42356),p=r(93794),u=r(19848),_=r(58930),m=r(98214),h=r(47651),g=r(24342);const f={SEARCH_FILTER_OPEN:(e,t)=>{const{entities:r}=t,{shell:{useragent:{isMobile:a}={}}={},filters:{entities:l=[]}={}}=e,n=(r||l).filter((e=>"polygon"===e.type)).map((function(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).join();return{category:a?"filter_bar_mobile":"filter_bar",action:"filter_usage",label:"open",dimensions:{polygonId:n,localityId:n}}},FILTERS_SELECTED:(e,t)=>{const{source:r,addedFilterKey:a,addedFilterValue:l,filters:n}=t;return"outer_radius"===a?{category:"lm_dist",action:"selected",label:parseInt(l)/1e3+" Kms selected"}:{category:"search",action:"filterBar"===r?"top_filter_applied":"more_filter_applied",label:JSON.stringify({addedFilter:l?`${a}_true`:`${a}_false`,filters:n}),dimensions:(0,g.A)(e,t)}},PRODUCT_CHANGED:(e,t)=>{let{filters:r}=(0,g.A)(e,t);return r={...r,service_type_id:t.serviceTypeId},{category:"search",action:"search_filter_bar",label:"selected",dimensions:{filters:r}}},SEARCH_DONE:(e,t)=>{const{entity:{id:r,type:a}={},valueFromTop:l,entityType:n}=t;return{category:"search",action:"add_suggestion",label:n||a,dimensions:{localityId:r,polygonId:r},value:l}},SORT_CHANGE:()=>({category:"search",action:"sort_change"})};var S=r(78469),E=r(80605),C=r(39348),b=r(3405),A=r(41780),v=r(78580);r(1814);const k="_17ee1fcq _1m2a1jbn _kbvgq0t8 _tw991o8l _tnfg14y2 _157zni7l _m0mi19bv T_drowdownArrowStyle";r(22892);const T=(0,v.A)((()=>Promise.all([r.e(13940),r.e(59163),r.e(71414)]).then(r.bind(r,32254))),{silent:!1,type:"local",container:"housing.demand",module:"common/components/CitySelect/rewrite"}),L=(0,i.A)({props:e=>{let{filters:{selectedCity:t,category:r,service:a}={}}=e;return{selectedCity:t,category:r,service:a}}})((e=>{let{selectedCity:t,category:r,service:a,citySelectOpen:i=!1,setCitySelectOpen:c=()=>{},backClick:s=()=>{},openFromShorts:o}=e;const{name:d}=t||{};return n().createElement(l.Fragment,null,i&&n().createElement(T,{onClose:()=>c(!1),selectedCity:t,selectedProduct:(0,A.A)(a,r),onSelect:c}),n().createElement("div",{className:"_9s1txw _fc1yb4 _2drrk5 _mk1if8 _wqzo7u _tkidpf T_headerStyle"},n().createElement("div",{className:"_9s1txw _0h1h6o T_leftStyle"},n().createElement("div",{className:"_l81vhr _c8exct _cs8n31 _7l9ke2 _1gkh15bn _44yo1jbn T_arrowLeft",onClick:s,"data-q":"back-btn"}),n().createElement("div",{className:"_c81fwx _g3exct _fr1ti3 T_cityTextStyle"},"You're searching in"," ",n().createElement("span",{className:"_c81fwx _csbfng _g3exct _fr1ti3 _gz1l7b T_cityNameStyle",onClick:()=>!o&&c(!0)},d),!o&&n().createElement("span",{className:k})))))}));(0,a.A)(k);var F=r(38130),P=r(23588),N=r(69721),w=r(28525),R=r(49393),O=r(50861),I=r(58147),x=r(8955),H=r(81412);r(95778);var j=r(16265),D=r(93290),G=r(94364);const M=r(99413).J`
  query($ids: [String]) {
    polygons(ids: $ids) {
      id
      name
      type
    }
  }
`,q=(0,v.A)((()=>Promise.all([r.e(97843),r.e(26859)]).then(r.bind(r,7003))),{fallback:n().createElement(P.A,null),type:"local",container:"housing.demand",module:"common/components/Filters/rewrite/mobile"}),B=(0,v.A)((()=>Promise.all([r.e(97843),r.e(17101)]).then(r.bind(r,90660))),{fallback:n().createElement(N.A,null),type:"local",container:"housing.demand",module:"common/components/TypeHead/rewrite/mobileSearchTypeahead"}),U=((0,v.A)((()=>r.e(20977).then(r.bind(r,11080))),{type:"local",container:"housing.demand",module:"common/components/DownloadHooks/PageTopHook/rewrite"}),(e,t)=>{let{type:r,payload:a}=t;switch(r){case"CHANGE_FILTERS":return{...e,filters:a};case"CHANGE_LOCALITY":return{...e,entities:a};default:return e}}),W=(0,i.A)({props:e=>{let{home:{externalAds:t}={},filters:{entities:r,service:a,category:l,subCategory:n,[(0,c.A)(a,l)]:i,selectedCity:{id:s,cityId:o,name:d}={},selectedCity:y},meta:{topLocalities:p,isProject:u}={},seo:{pageTypeMajor:_}={}}=e;return{selectedCityId:o,globalFilters:i,globalEntities:r,globalService:a,globalCategory:l,globalSubCategory:n,topLocalities:p,externalAds:t,cityName:d,cityId:s,pageTypeMajor:_,selectedCity:y,isProject:u}},actions:{addEntities:I.A,getNewEntities:_.A,getHistory:m.A,fetchCityData:S.A,setProduct:u.A,fetchCityPopularLandmarks:E.A,updateFilters:x.A,openModal:H.q,closeModal:H.O,passLeadToTeleCRM:j.A,setBaseFilterParams:F.default,fetchPolygon:e=>(t,r,a)=>{let{fetch:l}=a;const{meta:{polygons:n={}},filters:{entities:i=[]}}=r(),c=e;return 0===(e=(e=e||i.filter((e=>{let{type:t}=e;return"polygon"===t})).map((e=>{let{id:t}=e;return t}))).filter((e=>!n[e]))).length?Promise.resolve((c||e).map((e=>n[e]))):l({apiName:"GET_BULK_POLYGONS_DETAILS_API",cacheType:"cache-first",query:{query:M,variables:JSON.stringify({ids:e})}}).then((a=>{let{data:{data:{polygons:l}}}=a;l=l&&l.reduce(((e,t)=>(e[t.id]=t,e)),{}),t({type:"UPDATE_META_DATA",payload:{polygons:{...n,...l}}});const{meta:{polygons:i={}}}=r();return(c||e).map((e=>i[e]))}))}}})((e=>{let{backClick:t,globalFilters:r,globalEntities:a,selectedScreen:i,isSrp:u,getNewEntities:_,getHistory:m,setProduct:g,globalService:S,globalCategory:E,globalSubCategory:A,fetchCityData:v,externalAds:k,topLocalities:T,openAddEntity:F,sortFilterExp:P,selectedCityId:N,cityId:I,fetchCityPopularLandmarks:x,isPopularLandmarkSearch:H=!1,setOpenAddEntity:j=()=>{},addEntities:M,landmarkSearchViaMap:W=!1,updateFilters:K,landmarkCoords:V=[],closeModal:Y,filterReduxState:z,initialPrevReduxState:X,setBaseFilterParams:$,setFilterScreenCallback:J=()=>{},showPremiumFilter:Z,filterWrapperSource:Q,toggleFilters:ee=()=>{},passLeadToTeleCRM:te,filtersApplyClick:re=()=>{},isMapSrp:ae=!1,cityName:le,autofocus:ne=!1,openFromShorts:ie=!1,pageTypeMajor:ce,selectedCity:se,fetchPolygon:oe,isProject:de}=e;const ye=(0,h.A)(f),pe=(0,l.useRef)(null),[{service:ue,category:_e},me]=(0,l.useState)({service:S,category:E}),he=(0,l.useRef)(!1);(0,l.useEffect)((()=>{window.history.pushState({currentScreen:"filter/search"},"search")}),[]);const ge=(0,c.A)(ue,_e),fe="home"===ce?.toLowerCase(),{shortsEntities:Se=[],shortsFilters:Ee={}}=(0,l.useMemo)((()=>fe&&ie&&(0,G.B)({selectedCity:se})||{}),[N]);(0,l.useEffect)((()=>{const{name:e,id:t}=Se[0]||{},r=Se.map((e=>{let{id:t}=e;return t}));t&&!e&&oe(r).then((e=>dispatch({type:"CHANGE_LOCALITY",payload:e})))}),[Se]);const Ce={entities:a.length?a:Se,filters:Object.keys(r).length?r:Ee},[{filters:be,entities:Ae},ve]=(0,l.useReducer)(U,Ce),dispatch=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,l.startTransition)((()=>{ve(...t)}))},[ke,Te]=(0,l.useState)(!1),[Le,Fe]=(0,l.useState)(!1),[Pe,Ne]=(0,l.useState)(!1),[we,Re]=(0,l.useState)(0),[Oe,Ie]=(0,l.useState)({outer_radius:!1}),[xe,He]=(0,w.Ay)("recently_searched",{type:"localStorage",initialValue:[]}),setAddLocalityScreen=e=>{(0,l.startTransition)((()=>{Ne(e)}))},setCitySelectOpen=e=>{(0,l.startTransition)((()=>{Te(e)}))},[je,De]=(0,l.useState)(!1),[Ge,Me]=(0,l.useState)(null),[qe,Be]=(0,l.useState)(null),Ue=(0,c.A)(S,E);(0,l.useEffect)((()=>{z&&Be(z)}),[z]),(0,l.useEffect)((()=>{X&&Object.keys(X).length>0&&Be(X)}),[X]);const We=["buy","rent"].includes(ge)&&"landmark"===Ae[0]?.type,{screen:Ke,screenCount:Ve,setScreenData:Ye,onScreenBack:ze,openSearchScreen:Xe}=(0,C.A)(i,{backClick:t,citySelectOpen:ke,propertyTypePage:Le,addLocalityScreen:Pe,setAddLocalityScreen,entities:Ae,isSrp:u,filterPopup:je,isPopularLandmarkSearch:H,landmarkSearchViaMap:W,closeModal:Y,modalNames:O.W,initialPrevReduxState:X,addEntities:M,updateFilters:K,setBaseFilterParams:$,service:ue,category:_e,setFilterScreenCallback:J}),handleSortFilterChange=e=>{const{value:t,order:r}=e||{},a=(0,s.A)({addedFilters:{sort_key:t,sort_order:r||void 0},globalFilters:be});dispatch({type:"CHANGE_FILTERS",payload:a}),ye("SORT_CHANGE")},changeMandatoryFilterStatus=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={...Oe};Object.keys(r).forEach((a=>{e.includes(a)&&(r[a]=!0),t.includes(a)&&(r[a]=!1)})),Ie(r)},handleFilterChange=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||changeMandatoryFilterStatus(Object.keys(e),[]);const t=(0,s.A)({addedFilters:e,globalFilters:be});W&&K(t,!1),dispatch({type:"CHANGE_FILTERS",payload:t}),ye("FILTERS_SELECTED",{entities:Ae,filters:t,addedFilterKey:Object.keys(e)[0],addedFilterValue:Object.values(e)[0]}),te({filterKey:Object.keys(e)[0],filterValue:Object.values(e)[0],globalFilters:be})},addFilters=e=>[dispatch({type:"CHANGE_FILTERS",payload:e})],removeFilter=e=>{let{parentParam:t,param:r}=e;const a={...be};changeMandatoryFilterStatus([],[t]),Array.isArray(a[t])?(a[t]=a[t].filter((e=>e!==r)),0===a[t].length&&delete a[t]):delete a[t],dispatch({type:"CHANGE_FILTERS",payload:a})};(0,l.useEffect)((()=>{"filters"===Ke&&"var2"!==P&&ye("SEARCH_FILTER_OPEN",{entities:Ae})}),[Ke,P]),(0,l.useEffect)((()=>{T&&T.length||v(["topLocalities","featuredProjects","featuredDevelopers"])}),[ge,I]),(0,l.useEffect)((()=>{N&&x(N,S)}),[N,Ue]);const handleRangeChange=e=>{const t=(0,o.A)({...e,filters:be});changeMandatoryFilterStatus(Object.keys(t),[]),dispatch({type:"CHANGE_FILTERS",payload:t}),W&&K(t,!1);const{keys:[r,a]=[]}=e||{},l=Object.keys(t).indexOf(r)>=0||Object.keys(t).indexOf(a)>=0||null;ye("FILTERS_SELECTED",{entities:Ae,filters:t,addedFilterKey:r,addedFilterValue:l})},resetFilters=()=>{(()=>{let e={...Oe};Object.keys(e).forEach((t=>{e[t]=!1})),Ie(e)})(),dispatch({type:"CHANGE_FILTERS",payload:{}})},removeLocality=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=[...Ae].filter((t=>{let{id:r}=t;return e!==r}));dispatch({type:"CHANGE_LOCALITY",payload:t?[]:r}),r.length||(Xe("search"),setAddLocalityScreen(!1),he.current=!0)},setLocality=e=>{dispatch({type:"CHANGE_LOCALITY",payload:e})},changeCity=e=>{const r="filter"===e||"search"===e?b.A:L;return n().createElement(r,{citySelectOpen:ke,setCitySelectOpen:e=>{setCitySelectOpen(e),void 0===e&&ze(t)},backClick:()=>ze(t),openFromShorts:ie,screenType:e})},$e={buy:1,rent:2,paying_guest:3},Je=(0,l.useCallback)((function handleProductChange(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"buy";const{service:a,category:l}=(0,y.A)(t),{service:n}=(0,y.A)(e),i="buy"===n&&"buy"!==a||"buy"!==n&&"buy"===a?{service:"commercial"===l?r:a,category:l}:(0,d.A)(be,void 0,a,l,We);dispatch({type:"CHANGE_FILTERS",payload:i}),me({service:"commercial"===l?r:a,category:l}),setTimeout((()=>{g("commercial"===l?r:a,l)}),0),ye("PRODUCT_CHANGED",{entities:Ae,filters:i,serviceTypeId:[$e[e],$e[t]]})}),[be]),Ze=(0,l.useCallback)((function handleSubCategoryChange(e,t){const r=t,a=(0,d.A)(be,void 0,r,"commercial");dispatch({type:"CHANGE_FILTERS",payload:a}),me({service:r,category:"commercial"})}),[be]),setUndoLastFilters=e=>{Me(e)},handleApplyButtonClick=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const l=e||Ae,n=(0,c.A)(ue,_e),i=(0,c.A)(S,E),s="buy"===n&&"buy"!==i||"buy"!==n&&"buy"===i;s&&resetFilters();const o={...s?{}:be,...r},d=(0,D.A)(l,o),{type:y}=l[0];let p=[...l||[]];if(o&&0===Object.keys(o).length&&"project"===y){const e=p[0];p[0]={...p[0],url:e.mobileUrl}}setTimeout((()=>{$({entities:p,filters:o,service:S,category:E,redirectionPath:a},!0,{lat:"",lng:"",outerRadius:"",zoomEnd:""})}),0),ee(!1),ye("FILTERS_APPLIED",{entities:p,filters:o});let _=xe;const m=xe.findIndex((e=>{let{hash:t}=e;return t===d}));m>=0?_.splice(0,0,_.splice(m,1)[0]):_=[{entities:p,filters:o,service:S,category:E,cityName:le,date:Date.now(),hash:d,propertyCount:we,...a?{project:!0}:{}},..._],He(_),W&&(J(!1),Y({modalName:O.W.mobileHomePageSearchModal})),u?t():ae&&re()},addEntity=function(e){let{redirectionPath:r="",...a}=e,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Ae;const d={outer_radius:"3000"};if(he.current&&(o=[],resetFilters(),he.current=!1),n){M([a],{replace:!0,apply:!1});const e=W?d:{};K(e,!1),dispatch({type:"CHANGE_FILTERS",payload:e})}const{entities:y,url:u,localityUrl:h}=_([a],o,{passCanonical:!0,replace:s}),{type:g}=y?.[0];if(ye("SEARCH_DONE",{entity:a,valueFromTop:i,entityType:c}),k&&"whitelabel"===k.type)return window.open(u||h,"_blank").focus(),void t();u?m().push(u):(dispatch({type:"CHANGE_LOCALITY",payload:y}),l||("buy"!==ge&&!r||"search"!==Ke||Pe?(0,p.A)(y)||y.length>=5?setAddLocalityScreen(!0):handleApplyButtonClick(y,"landmark"===g?d:{}):handleApplyButtonClick(y,"landmark"===g?d:r?{type:"new_projects"}:{},r)))};return n().createElement(R.default,{modalName:O.W.mobileHomePageSearchModal,modalType:O.Z.USER_ACTION,style:""},!1,(()=>{switch(Ke){case"filters":return n().createElement(q,{backClick:()=>ze(t),filters:be,handleFilterChange,resetFilters,entities:Ae,removeLocality,openSearchScreen:e=>{Xe("search"),e&&(he.current=!0)},onApplyClick:u?t:ae?re:()=>{},handleRangeChange,setPropertyCount:Re,propertyCount:we,handleProductChange:Je,handleSubCategoryChange:Ze,service:ue,category:_e,isSrp:u,removeFilter,propertyTypePage:Le,setPropertyTypePage:Fe,addEntity,setRecentlySearched:He,recentlySearched:xe,setLocality,setAddLocalityScreen,addLocalityScreen:Pe,lastLocality:pe,addFilters,filterPopup:je,setFilterPopup:De,resetFiltersAndLocality:he,globalFilters:r,product:ge,handleSortFilterChange,setUndoLastFilters,undoFilters:Ge,isPopularLandmarkSearch:H,setOpenAddEntity:j,landmarkSearchViaMap:W,updateFilters:K,setFilterScreenCallback:J,showPremiumFilter:Z,filterWrapperSource:Q,toggleFilters:ee,isMapSrp:ae,mandatoryFiltersChanged:Oe,openFromShorts:ie},changeCity("filter"));case"search":return n().createElement(B,{openAddEntity:F,backClick:t,addEntity,entities:Ae,setFilterScreenCallback:J,isSrp:u,recentlySearched:xe,product:ge,setLocality,addLocalityScreen:Pe,setAddLocalityScreen,openSearchScreen:Xe,removeLocality,onNextClick:()=>{handleApplyButtonClick(null,{property_type_id:"plots"===A?["plot"]:[],...de?{type:"new_projects"}:{}},de?"/in/buy/project-search":"")},resetFiltersAndLocality:he,lastLocality:pe,prevReduxState:qe,autofocus:ne},changeCity("search"));case"map":return n().createElement(B,{coords:V,prevReduxState:X,openAddEntity:F,backClick:t,addEntity,setFilterScreenCallback:J,entities:Ae,isSrp:u,landmarkSearchViaMap:!0,recentlySearched:xe,product:ge,setLocality,addLocalityScreen:Pe,setAddLocalityScreen,openSearchScreen:Xe,removeLocality,onNextClick:()=>{Ye({screenCount:Ve<2?Ve+1:Ve,screen:"filters"}),setAddLocalityScreen(!1)},resetFiltersAndLocality:he,lastLocality:pe,setScreenData:Ye,setCitySelectOpen},changeCity());case"default":return null}})())}));(0,a.A)("_ks15vq T_modalStyle")},42356:(e,t,r)=>{r.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(12615);const __WEBPACK_DEFAULT_EXPORT__=e=>{switch(e){case"flatmate":return a.A.flatmates;case"paying_guest":return a.A["paying-guests"];default:return a.A[e]}}},43244:(e,t,r)=>{r.r(t)},94364:(e,t,r)=>{r.d(t,{B:()=>getPrevShortsHash});var a=r(28525),l=r(66144);const getPrevShortsHash=e=>{let t,{product:r="buy",selectedCity:n}=e;const{cityId:i="",name:c=""}=n||{},s=(0,a.Gq)("prevSrpHash")||{},o=(0,a.Gq)("recently_searched")||[];if(t=(s[i]||{})[r],o.length>0){const e=Math.min(5,o.length);for(let r=0;r<e;r++){const{hash:e,entities:a,filters:l}=o[r]||{};if(e===t)return{srpHash:e,shortsEntities:a,shortsFilters:l}}}const{entities:d=[{id:i,type:"polygon",name:c}],filters:y={}}=t&&(0,l.A)(t)||{};return{srpHash:t,shortsEntities:d,shortsFilters:y}}},95778:(e,t,r)=>{r.r(t)}}]);